{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/ninew/todotsx/src/component/App.tsx\",\n    _s = $RefreshSig$();\n\nimport MaterialTable from 'material-table';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { forwardRef } from 'react'; //แก้ไข  import {AddBox,ArrowUpward} from '@material-ui/icons';\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nexport default function ReportTable() {\n  _s();\n\n  const tableIcons = {\n    Add: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(AddBox, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)),\n    Check: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Check, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)),\n    Clear: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Clear, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)),\n    Delete: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(DeleteOutline, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)),\n    DetailPanel: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronRight, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)),\n    Edit: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Edit, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)),\n    Export: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(SaveAlt, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)),\n    Filter: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(FilterList, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)),\n    FirstPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(FirstPage, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)),\n    LastPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(LastPage, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)),\n    NextPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronRight, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)),\n    PreviousPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronLeft, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)),\n    ResetSearch: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Clear, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)),\n    Search: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Search, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)),\n    SortArrow: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ArrowUpward, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)),\n    ThirdStateCheck: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Remove, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)),\n    ViewColumn: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ViewColumn, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this))\n  };\n  const [entries, setEntries] = useState({\n    data: [{\n      id: '',\n      name: '',\n      when: ''\n    }]\n  });\n\n  function readCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n\n      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  }\n\n  const token = readCookie('token');\n  const headers = {\n    Authorization: `Bearer ${token}`,\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Credentials\": true,\n    \"Content-Type\": \"application/json\"\n  };\n  useEffect(() => {\n    axios.get('https://localhost:5001/activities/', {\n      headers\n    }).then(response => {\n      let data = [];\n      response.data.forEach(el => {\n        data.push({\n          id: el.id,\n          name: el.name,\n          when: el.when\n        });\n      });\n      setEntries({\n        data: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [entries.data.length]); //ทำสอบ การเชื่อม  แบบ button\n\n  const [datas, setDatas] = React.useState([]);\n\n  const onLogin = async () => {\n    const result = await axios.put(`/activities/38`, {\n      name: \"นัดหมอ_del_momodsd\",\n      when: \"2020-12-01T14:00:00\"\n    }, {\n      headers\n    });\n    setDatas(result.data);\n    console.log('re', datas);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MaterialTable, {\n      icons: tableIcons,\n      title: \"Report Table\",\n      columns: [{\n        title: 'id',\n        field: 'id',\n        editable: 'never'\n      }, {\n        title: 'name',\n        field: 'name'\n      }, {\n        title: 'when',\n        field: 'when',\n        type: 'datetime'\n      }],\n      data: entries.data,\n      editable: {\n        //update\n        onRowUpdate: (newData, oldData) => new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n            const data = [...entries.data];\n            console.log(typeof oldData);\n            data[oldData.tableData.id] = newData;\n            {\n              console.log(oldData.tableData.id);\n            }\n            {\n              console.log(oldData.id);\n            }\n            axios.put(`/activities/${oldData.id}`, {\n              name: newData.name,\n              when: newData.when\n            }, {\n              headers\n            }).then(res => console.log(res.data));\n            setEntries({ ...entries,\n              data\n            });\n          }, 600);\n        }),\n        //delete\n        onRowDelete: oldData => new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n            const data = [...entries.data];\n            data.splice(data.indexOf(oldData), 1);\n            axios.delete(`/activities/${oldData.id}`, {\n              headers\n            }).then(res => console.log(res.data));\n            setEntries({ ...entries,\n              data\n            });\n          }, 600);\n        }),\n        //add\n        //@ts-ignore\n        onRowAdd: (newData, oldData) => new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n            const data = [...entries.data];\n            data[data.length] = newData;\n            axios.post(`/activities`, {\n              name: newData.name,\n              when: newData.when\n            }, {\n              headers\n            }).then(res => console.log(res.data));\n            setEntries({ ...entries,\n              data\n            });\n          }, 600);\n        })\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(ReportTable, \"pL7q0hQJDheMx9U9gQfOTzF9xYo=\");\n\n_c = ReportTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReportTable\");","map":{"version":3,"sources":["/Users/ninew/todotsx/src/component/App.tsx"],"names":["MaterialTable","React","useEffect","useState","axios","forwardRef","AddBox","ArrowUpward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","ReportTable","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","entries","setEntries","data","id","name","when","readCookie","nameEQ","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","token","headers","Authorization","get","then","response","forEach","el","push","catch","error","console","log","datas","setDatas","onLogin","result","put","title","field","editable","type","onRowUpdate","newData","oldData","Promise","resolve","setTimeout","tableData","res","onRowDelete","splice","delete","onRowAdd","post"],"mappings":";;;;;;AAAA,OAAOA,aAAP,MAA0B,gBAA1B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,QAA2B,OAA3B,C,CACA;;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,eAAe,SAASC,WAAT,GAAuB;AAAA;;AACpC,QAAMC,UAAU,GAAG;AACjBC,IAAAA,GAAG,eAAElB,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAC7B,QAAC,MAAD,OAAYD,KAAZ;AAAmB,MAAA,GAAG,EAAEC;AAAxB;AAAA;AAAA;AAAA;AAAA,YADa,CADE;AAIjBjB,IAAAA,KAAK,eAAEH,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAC/B,QAAC,KAAD,OAAWD,KAAX;AAAkB,MAAA,GAAG,EAAEC;AAAvB;AAAA;AAAA;AAAA;AAAA,YADe,CAJA;AAOjBd,IAAAA,KAAK,eAAEN,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAC/B,QAAC,KAAD,OAAWD,KAAX;AAAkB,MAAA,GAAG,EAAEC;AAAvB;AAAA;AAAA;AAAA;AAAA,YADe,CAPA;AAUjBC,IAAAA,MAAM,eAAErB,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAChC,QAAC,aAAD,OAAmBD,KAAnB;AAA0B,MAAA,GAAG,EAAEC;AAA/B;AAAA;AAAA;AAAA;AAAA,YADgB,CAVD;AAajBE,IAAAA,WAAW,eAAEtB,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBACrC,QAAC,YAAD,OAAkBD,KAAlB;AAAyB,MAAA,GAAG,EAAEC;AAA9B;AAAA;AAAA;AAAA;AAAA,YADqB,CAbN;AAgBjBZ,IAAAA,IAAI,eAAER,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAC9B,QAAC,IAAD,OAAUD,KAAV;AAAiB,MAAA,GAAG,EAAEC;AAAtB;AAAA;AAAA;AAAA;AAAA,YADc,CAhBC;AAmBjBG,IAAAA,MAAM,eAAEvB,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAChC,QAAC,OAAD,OAAaD,KAAb;AAAoB,MAAA,GAAG,EAAEC;AAAzB;AAAA;AAAA;AAAA;AAAA,YADgB,CAnBD;AAsBjBI,IAAAA,MAAM,eAAExB,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAChC,QAAC,UAAD,OAAgBD,KAAhB;AAAuB,MAAA,GAAG,EAAEC;AAA5B;AAAA;AAAA;AAAA;AAAA,YADgB,CAtBD;AAyBjBV,IAAAA,SAAS,eAAEV,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBACnC,QAAC,SAAD,OAAeD,KAAf;AAAsB,MAAA,GAAG,EAAEC;AAA3B;AAAA;AAAA;AAAA;AAAA,YADmB,CAzBJ;AA4BjBT,IAAAA,QAAQ,eAAEX,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAClC,QAAC,QAAD,OAAcD,KAAd;AAAqB,MAAA,GAAG,EAAEC;AAA1B;AAAA;AAAA;AAAA;AAAA,YADkB,CA5BH;AA+BjBK,IAAAA,QAAQ,eAAEzB,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAClC,QAAC,YAAD,OAAkBD,KAAlB;AAAyB,MAAA,GAAG,EAAEC;AAA9B;AAAA;AAAA;AAAA;AAAA,YADkB,CA/BH;AAkCjBM,IAAAA,YAAY,eAAE1B,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBACtC,QAAC,WAAD,OAAiBD,KAAjB;AAAwB,MAAA,GAAG,EAAEC;AAA7B;AAAA;AAAA;AAAA;AAAA,YADsB,CAlCP;AAqCjBO,IAAAA,WAAW,eAAE3B,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBACrC,QAAC,KAAD,OAAWD,KAAX;AAAkB,MAAA,GAAG,EAAEC;AAAvB;AAAA;AAAA;AAAA;AAAA,YADqB,CArCN;AAwCjBN,IAAAA,MAAM,eAAEd,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBAChC,QAAC,MAAD,OAAYD,KAAZ;AAAmB,MAAA,GAAG,EAAEC;AAAxB;AAAA;AAAA;AAAA;AAAA,YADgB,CAxCD;AA2CjBQ,IAAAA,SAAS,eAAE5B,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBACnC,QAAC,WAAD,OAAiBD,KAAjB;AAAwB,MAAA,GAAG,EAAEC;AAA7B;AAAA;AAAA;AAAA;AAAA,YADmB,CA3CJ;AA8CjBS,IAAAA,eAAe,eAAE7B,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBACzC,QAAC,MAAD,OAAYD,KAAZ;AAAmB,MAAA,GAAG,EAAEC;AAAxB;AAAA;AAAA;AAAA;AAAA,YADyB,CA9CV;AAiDjBL,IAAAA,UAAU,eAAEf,UAAU,CAAgB,CAACmB,KAAD,EAAaC,GAAb,kBACpC,QAAC,UAAD,OAAgBD,KAAhB;AAAuB,MAAA,GAAG,EAAEC;AAA5B;AAAA;AAAA;AAAA;AAAA,YADoB;AAjDL,GAAnB;AAqDA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBjC,QAAQ,CAAC;AACrCkC,IAAAA,IAAI,EAAE,CACJ;AACEC,MAAAA,EAAE,EAAE,EADN;AAEEC,MAAAA,IAAI,EAAE,EAFR;AAGEC,MAAAA,IAAI,EAAE;AAHR,KADI;AAD+B,GAAD,CAAtC;;AAWA,WAASC,UAAT,CAAoBF,IAApB,EAAiC;AAC/B,QAAIG,MAAM,GAAGH,IAAI,GAAG,GAApB;AACA,QAAII,EAAE,GAAGC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,GAAtB,CAAT;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAGJ,EAAE,CAACK,MAAnB,EAA0BD,CAAC,EAA3B,EAA+B;AAC3B,UAAIE,CAAC,GAAGN,EAAE,CAACI,CAAD,CAAV;;AACA,aAAOE,CAAC,CAACC,MAAF,CAAS,CAAT,KAAa,GAApB,EAAyBD,CAAC,GAAGA,CAAC,CAACE,SAAF,CAAY,CAAZ,EAAcF,CAAC,CAACD,MAAhB,CAAJ;;AACzB,UAAIC,CAAC,CAACG,OAAF,CAAUV,MAAV,KAAqB,CAAzB,EAA4B,OAAOO,CAAC,CAACE,SAAF,CAAYT,MAAM,CAACM,MAAnB,EAA0BC,CAAC,CAACD,MAA5B,CAAP;AAC/B;;AACD,WAAO,IAAP;AACH;;AACC,QAAMK,KAAK,GAAEZ,UAAU,CAAC,OAAD,CAAvB;AACA,QAAMa,OAAO,GAAG;AACdC,IAAAA,aAAa,EAAG,UAASF,KAAM,EADjB;AAElB,mCAA8B,GAFZ;AAEgB,wCAAmC,IAFnD;AAEyD,oBAAgB;AAFzE,GAAhB;AAGAnD,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,KAAK,CACFoD,GADH,CACO,oCADP,EAC6C;AAAEF,MAAAA;AAAF,KAD7C,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClB,UAAIrB,IAAU,GAAG,EAAjB;AACAqB,MAAAA,QAAQ,CAACrB,IAAT,CAAcsB,OAAd,CAAuBC,EAAD,IAAmB;AACvCvB,QAAAA,IAAI,CAACwB,IAAL,CAAU;AACRvB,UAAAA,EAAE,EAAEsB,EAAE,CAACtB,EADC;AAERC,UAAAA,IAAI,EAAEqB,EAAE,CAACrB,IAFD;AAGRC,UAAAA,IAAI,EAAEoB,EAAE,CAACpB;AAHD,SAAV;AAKD,OAND;AAOAJ,MAAAA,UAAU,CAAC;AAAEC,QAAAA,IAAI,EAAEA;AAAR,OAAD,CAAV;AAED,KAbH,EAcGyB,KAdH,CAcS,UAAUC,KAAV,EAAiB;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAhBH;AAiBD,GAlBQ,EAkBN,CAAC5B,OAAO,CAACE,IAAR,CAAaW,MAAd,CAlBM,CAAT,CA/EoC,CAoGtC;;AACE,QAAM,CAACkB,KAAD,EAAQC,QAAR,IAAoBlE,KAAK,CAACE,QAAN,CAAe,EAAf,CAA1B;;AACA,QAAMiE,OAAO,GAAG,YAAW;AACzB,UAAMC,MAAM,GAAG,MAAMjE,KAAK,CAACkE,GAAN,CAClB,gBADkB,EAEnB;AAAC/B,MAAAA,IAAI,EAAE,oBAAP;AAA6BC,MAAAA,IAAI,EAAE;AAAnC,KAFmB,EAGnB;AAAEc,MAAAA;AAAF,KAHmB,CAArB;AAKAa,IAAAA,QAAQ,CAACE,MAAM,CAAChC,IAAR,CAAR;AACF2B,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBC,KAAjB;AACC,GARD;;AAYA,sBACE;AAAA,2BAEA,QAAC,aAAD;AACA,MAAA,KAAK,EAAE5C,UADP;AAEE,MAAA,KAAK,EAAC,cAFR;AAGE,MAAA,OAAO,EAAE,CACP;AAAEiD,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,KAAK,EAAE,IAAtB;AAA4BC,QAAAA,QAAQ,EAAE;AAAtC,OADO,EAEP;AAAEF,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAFO,EAGP;AAAED,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,KAAK,EAAE,MAAxB;AAAgCE,QAAAA,IAAI,EAAE;AAAtC,OAHO,CAHX;AAQE,MAAA,IAAI,EAAEvC,OAAO,CAACE,IARhB;AASI,MAAA,QAAQ,EAAE;AACV;AACAsC,QAAAA,WAAW,EAAE,CAACC,OAAD,EAAuBC,OAAvB,KACX,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AACvBC,UAAAA,UAAU,CAAC,MAAM;AACfD,YAAAA,OAAO;AACP,kBAAM1C,IAAI,GAAG,CAAC,GAAGF,OAAO,CAACE,IAAZ,CAAb;AACA2B,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAOY,OAAnB;AACAxC,YAAAA,IAAI,CAACwC,OAAO,CAACI,SAAR,CAAkB3C,EAAnB,CAAJ,GAA6BsC,OAA7B;AACA;AAAEZ,cAAAA,OAAO,CAACC,GAAR,CAAYY,OAAO,CAACI,SAAR,CAAkB3C,EAA9B;AAAmC;AACrC;AAAC0B,cAAAA,OAAO,CAACC,GAAR,CAAYY,OAAO,CAACvC,EAApB;AAAwB;AACzBlC,YAAAA,KAAK,CACFkE,GADH,CAEK,eAAcO,OAAO,CAACvC,EAAG,EAF9B,EAGI;AAAEC,cAAAA,IAAI,EAAEqC,OAAO,CAACrC,IAAhB;AAAsBC,cAAAA,IAAI,EAAEoC,OAAO,CAACpC;AAApC,aAHJ,EAII;AAAEc,cAAAA;AAAF,aAJJ,EAMGG,IANH,CAMSyB,GAAD,IAASlB,OAAO,CAACC,GAAR,CAAYiB,GAAG,CAAC7C,IAAhB,CANjB;AAOAD,YAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAcE,cAAAA;AAAd,aAAD,CAAV;AACD,WAfS,EAeP,GAfO,CAAV;AAgBD,SAjBD,CAHQ;AAqBR;AACF8C,QAAAA,WAAW,EAAGN,OAAD,IACX,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AACvBC,UAAAA,UAAU,CAAC,MAAM;AACfD,YAAAA,OAAO;AACP,kBAAM1C,IAAI,GAAG,CAAC,GAAGF,OAAO,CAACE,IAAZ,CAAb;AACAA,YAAAA,IAAI,CAAC+C,MAAL,CAAY/C,IAAI,CAACe,OAAL,CAAayB,OAAb,CAAZ,EAAmC,CAAnC;AACAzE,YAAAA,KAAK,CACFiF,MADH,CACW,eAAcR,OAAO,CAACvC,EAAG,EADpC,EACuC;AAAEgB,cAAAA;AAAF,aADvC,EAEGG,IAFH,CAESyB,GAAD,IAASlB,OAAO,CAACC,GAAR,CAAYiB,GAAG,CAAC7C,IAAhB,CAFjB;AAGAD,YAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAcE,cAAAA;AAAd,aAAD,CAAV;AACD,WARS,EAQP,GARO,CAAV;AASD,SAVD,CAvBQ;AAkCV;AACA;AACEiD,QAAAA,QAAQ,EAAE,CAACV,OAAD,EAAcC,OAAd,KACV,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AACvBC,UAAAA,UAAU,CAAC,MAAM;AACfD,YAAAA,OAAO;AACP,kBAAM1C,IAAI,GAAG,CAAC,GAAGF,OAAO,CAACE,IAAZ,CAAb;AACAA,YAAAA,IAAI,CAACA,IAAI,CAACW,MAAN,CAAJ,GAAoB4B,OAApB;AACAxE,YAAAA,KAAK,CACFmF,IADH,CAEK,aAFL,EAGI;AAAEhD,cAAAA,IAAI,EAAEqC,OAAO,CAACrC,IAAhB;AAAsBC,cAAAA,IAAI,EAAEoC,OAAO,CAACpC;AAApC,aAHJ,EAII;AAAEc,cAAAA;AAAF,aAJJ,EAMGG,IANH,CAMSyB,GAAD,IAASlB,OAAO,CAACC,GAAR,CAAYiB,GAAG,CAAC7C,IAAhB,CANjB;AAOAD,YAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAcE,cAAAA;AAAd,aAAD,CAAV;AACD,WAZS,EAYP,GAZO,CAAV;AAaD,SAdD;AArCQ;AATd;AAAA;AAAA;AAAA;AAAA;AAFA,mBADF;AAoED;;GAtLuBhB,W;;KAAAA,W","sourcesContent":["import MaterialTable from 'material-table'\nimport React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport {tableProps,newDataProps, tableDataProps} from '../tyscripst.model'\nimport { forwardRef } from 'react';\n//แก้ไข  import {AddBox,ArrowUpward} from '@material-ui/icons';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nexport default function ReportTable() {\n  const tableIcons = {\n    Add: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <AddBox {...props} ref={ref} />\n    )),\n    Check: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Check {...props} ref={ref} />\n    )),\n    Clear: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Delete: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <DeleteOutline {...props} ref={ref} />\n    )),\n    DetailPanel: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    Edit: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Edit {...props} ref={ref} />\n    )),\n    Export: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <SaveAlt {...props} ref={ref} />\n    )),\n    Filter: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <FilterList {...props} ref={ref} />\n    )),\n    FirstPage: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <FirstPage {...props} ref={ref} />\n    )),\n    LastPage: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <LastPage {...props} ref={ref} />\n    )),\n    NextPage: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    PreviousPage: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ChevronLeft {...props} ref={ref} />\n    )),\n    ResetSearch: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Search: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Search {...props} ref={ref} />\n    )),\n    SortArrow: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ArrowUpward {...props} ref={ref} />\n    )),\n    ThirdStateCheck: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Remove {...props} ref={ref} />\n    )),\n    ViewColumn: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ViewColumn {...props} ref={ref} />\n    )),\n  }\n  const [entries, setEntries] = useState({\n    data: [\n      {\n        id: '',\n        name: '',\n        when: '',\n      },\n    ],\n  })\n\n\n  function readCookie(name:string) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i < ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n}\n  const token =readCookie('token');\n  const headers = {\n    Authorization: `Bearer ${token}`,\n\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Credentials\":true ,\"Content-Type\": \"application/json\", }\n  useEffect(() => {\n    axios\n      .get('https://localhost:5001/activities/', { headers })\n      .then((response) => {\n        let data:any[] = []\n        response.data.forEach((el:tableProps) => {\n          data.push({\n            id: el.id,\n            name: el.name,\n            when: el.when,\n          })\n        })\n        setEntries({ data: data })\n      \n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }, [entries.data.length])\n\n\n//ทำสอบ การเชื่อม  แบบ button\n  const [datas, setDatas] = React.useState([]);\n  const onLogin = async() => { \n    const result = await axios.put(\n      `/activities/38`,\n      {name: \"นัดหมอ_del_momodsd\", when: \"2020-12-01T14:00:00\"},\n      { headers } \n    );\n    setDatas(result.data);\n  console.log('re',datas)\n  }\n  \n\n\n  return (\n    <>\n   { /*  <button onClick={onLogin}> check_put</button>*/}\n    <MaterialTable\n    icons={tableIcons}\n      title=\"Report Table\"\n      columns={[\n        { title: 'id', field: 'id' ,editable: 'never'},\n        { title: 'name', field: 'name' },\n        { title: 'when', field: 'when', type: 'datetime' },\n      ]}\n      data={entries.data}\n        editable={{\n        //update\n        onRowUpdate: (newData:newDataProps, oldData:newDataProps) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve()\n              const data = [...entries.data]\n              console.log(typeof oldData)\n              data[oldData.tableData.id] = newData\n              { console.log(oldData.tableData.id) }\n              {console.log(oldData.id)}\n              axios\n                .put(\n                  `/activities/${oldData.id}`,\n                  { name: newData.name, when: newData.when },\n                  { headers } \n                )\n                .then((res) => console.log(res.data))\n              setEntries({ ...entries, data })\n            }, 600)\n          }),\n          //delete\n        onRowDelete: (oldData) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve()\n              const data = [...entries.data]\n              data.splice(data.indexOf(oldData), 1)\n              axios\n                .delete(`/activities/${oldData.id}`, { headers })\n                .then((res) => console.log(res.data))\n              setEntries({ ...entries, data })\n            }, 600)\n          }),\n        //add\n        //@ts-ignore\n          onRowAdd: (newData:any, oldData:any) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve()\n              const data = [...entries.data]\n              data[data.length] = newData\n              axios\n                .post(\n                  `/activities`,\n                  { name: newData.name, when: newData.when },\n                  { headers }\n                )\n                .then((res) => console.log(res.data))\n              setEntries({ ...entries, data })\n            }, 600)\n          }),\n      }}\n      />\n      </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}