{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/ninew/todotsx/src/component/App.tsx\",\n    _s = $RefreshSig$();\n\nimport MaterialTable from 'material-table';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { forwardRef } from 'react'; //แก้ไข  import {AddBox,ArrowUpward} from '@material-ui/icons';\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nexport default function ReportTable() {\n  _s();\n\n  const tableIcons = {\n    Add: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(AddBox, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)),\n    Check: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Check, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)),\n    Clear: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Clear, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)),\n    Delete: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(DeleteOutline, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)),\n    DetailPanel: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronRight, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)),\n    Edit: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Edit, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)),\n    Export: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(SaveAlt, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)),\n    Filter: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(FilterList, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)),\n    FirstPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(FirstPage, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)),\n    LastPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(LastPage, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)),\n    NextPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronRight, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)),\n    PreviousPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronLeft, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)),\n    ResetSearch: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Clear, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)),\n    Search: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Search, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)),\n    SortArrow: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ArrowUpward, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)),\n    ThirdStateCheck: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Remove, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)),\n    ViewColumn: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ViewColumn, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this))\n  };\n  const [entries, setEntries] = useState({\n    data: [{\n      id: '',\n      name: '',\n      when: ''\n    }]\n  });\n\n  function readCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  }\n\n  const token = readCookie('token');\n  const headers = {\n    Authorization: `Bearer ${token}`,\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Credentials\": true,\n    \"Content-Type\": \"application/json\"\n  };\n  useEffect(() => {\n    axios.get('https://localhost:5001/activities/', {\n      headers\n    }).then(response => {\n      response.data.forEach(el => {\n        data.push({\n          id: el.id,\n          name: el.name,\n          when: el.when\n        });\n      });\n      setEntries({\n        data\n      });\n      {\n        console.log(typeof data);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    }); // eslint-disable-next-line\n  }, [entries.data.length]); //ทำสอบ การเชื่อม  แบบ button\n  // const [datas, setDatas] = React.useState([]);\n\n  {\n    /*  const onLogin = async() => { \n       const result = await axios.put(\n         `/activities/38`,\n         {name: \"นัดหมอ_del_momodsd\", when: \"2020-12-01T14:00:00\"},\n         { headers } \n       );\n       setDatas(result.data);\n     console.log('re',datas)\n     }\n    */\n  }\n  const history = useHistory();\n\n  const onLoginOut = () => {\n    document.cookie = \"token\" + '=; Max-Age=-99999999;';\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onLoginOut,\n      children: \" logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MaterialTable, {\n      icons: tableIcons,\n      title: \"Report Table\",\n      columns: [{\n        title: 'id',\n        field: 'id',\n        editable: 'never'\n      }, {\n        title: 'name',\n        field: 'name'\n      }, {\n        title: 'when',\n        field: 'when',\n        type: 'datetime'\n      }],\n      data: entries.data,\n      editable: {\n        //update\n        onRowUpdate: (newData, oldData) => new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n            const data = [...entries.data];\n            console.log(typeof oldData);\n            data[oldData.tableData.id] = newData;\n            axios.put(`/activities/${oldData.id}`, {\n              name: newData.name,\n              when: newData.when\n            }, {\n              headers\n            }).then(res => console.log(res.data));\n            setEntries({ ...entries,\n              data\n            });\n          }, 600);\n        }),\n        //delete\n        onRowDelete: oldData => new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n            const data = [...entries.data];\n            data.splice(data.indexOf(oldData), 1);\n            axios.delete(`/activities/${oldData.id}`, {\n              headers\n            }).then(res => console.log(res.data));\n            setEntries({ ...entries,\n              data\n            });\n          }, 600);\n        }),\n        //add\n        onRowAdd: newData => new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n            const data = [...entries.data];\n            data[data.length] = newData;\n            axios.post(`/activities`, {\n              name: newData.name,\n              when: newData.when\n            }, {\n              headers\n            }).then(res => console.log(res.data));\n            setEntries({ ...entries,\n              data\n            });\n          }, 600);\n        })\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ReportTable, \"hgje+mfmup3G4O7n/F/6vKkJsb0=\", false, function () {\n  return [useHistory];\n});\n\n_c = ReportTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReportTable\");","map":{"version":3,"sources":["/Users/ninew/todotsx/src/component/App.tsx"],"names":["MaterialTable","React","useEffect","useState","axios","useHistory","forwardRef","AddBox","ArrowUpward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","ReportTable","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","entries","setEntries","data","id","name","when","readCookie","nameEQ","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","token","headers","Authorization","get","then","response","forEach","el","push","console","log","catch","error","history","onLoginOut","title","field","editable","type","onRowUpdate","newData","oldData","Promise","resolve","setTimeout","tableData","put","res","onRowDelete","splice","delete","onRowAdd","post"],"mappings":"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","sourcesContent":["import MaterialTable from 'material-table'\nimport React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { useHistory } from 'react-router-dom'\nimport {tableProps,DataProps} from '../tyscripst.model'\nimport { forwardRef } from 'react';\n//แก้ไข  import {AddBox,ArrowUpward} from '@material-ui/icons';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nexport default function ReportTable() {\n  const tableIcons = {\n    Add: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <AddBox {...props} ref={ref} />\n    )),\n    Check: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Check {...props} ref={ref} />\n    )),\n    Clear: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Delete: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <DeleteOutline {...props} ref={ref} />\n    )),\n    DetailPanel: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    Edit: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Edit {...props} ref={ref} />\n    )),\n    Export: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <SaveAlt {...props} ref={ref} />\n    )),\n    Filter: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <FilterList {...props} ref={ref} />\n    )),\n    FirstPage: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <FirstPage {...props} ref={ref} />\n    )),\n    LastPage: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <LastPage {...props} ref={ref} />\n    )),\n    NextPage: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    PreviousPage: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ChevronLeft {...props} ref={ref} />\n    )),\n    ResetSearch: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Search: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Search {...props} ref={ref} />\n    )),\n    SortArrow: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ArrowUpward {...props} ref={ref} />\n    )),\n    ThirdStateCheck: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <Remove {...props} ref={ref} />\n    )),\n    ViewColumn: forwardRef<SVGSVGElement>((props: any, ref: any) => (\n      <ViewColumn {...props} ref={ref} />\n    )),\n  }\n  const [entries, setEntries] = useState({\n    data: [\n      {\n        id: '',\n        name: '',\n        when: '',\n      },\n    ],\n  })\n\n\n  function readCookie(name:string) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i < ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)===' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n}\n  const token =readCookie('token');\n  const headers = {\n    Authorization: `Bearer ${token}`,\n\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Credentials\":true ,\"Content-Type\": \"application/json\", }\n  useEffect(() => {\n    axios\n      .get('https://localhost:5001/activities/', { headers })\n      .then((response) => {\n      \n        response.data.forEach((el:tableProps) => {\n          data.push({\n            id: el.id,\n            name: el.name,\n            when: el.when,\n          })\n        })\n        setEntries({ data })\n        {console.log(typeof data)}\n      \n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n     // eslint-disable-next-line\n  }, [entries.data.length])\n\n\n//ทำสอบ การเชื่อม  แบบ button\n // const [datas, setDatas] = React.useState([]);\n{/*  const onLogin = async() => { \n    const result = await axios.put(\n      `/activities/38`,\n      {name: \"นัดหมอ_del_momodsd\", when: \"2020-12-01T14:00:00\"},\n      { headers } \n    );\n    setDatas(result.data);\n  console.log('re',datas)\n  }\n*/}\nconst history =useHistory()\nconst onLoginOut = () => { \n  document.cookie = \"token\" + '=; Max-Age=-99999999;';  \n  history.push('/')\n}\n\n  return (\n    <>\n      { /*  <button onClick={onLogin}> check_put</button>*/}\n      <button onClick={onLoginOut}> logout</button>\n    <MaterialTable\n    icons={tableIcons}\n      title=\"Report Table\"\n      columns={[\n        { title: 'id', field: 'id' ,editable: 'never'},\n        { title: 'name', field: 'name' },\n        { title: 'when', field: 'when', type: 'datetime' },\n      ]}\n      data={entries.data}\n        editable={{\n        //update\n        onRowUpdate: (newData:DataProps, oldData:any) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve()\n              const data = [...entries.data]\n              console.log(typeof oldData)\n              data[oldData.tableData.id] = newData\n              \n              axios\n                .put(\n                  `/activities/${oldData.id}`,\n                  { name: newData.name, when: newData.when },\n                  { headers } \n                )\n                .then((res) => console.log(res.data))\n              setEntries({ ...entries, data })\n            }, 600)\n          }),\n          //delete\n        onRowDelete: (oldData:DataProps) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve()\n              const data = [...entries.data]\n              data.splice(data.indexOf(oldData), 1)\n              axios\n                .delete(`/activities/${oldData.id}`, { headers })\n                .then((res) => console.log(res.data))\n              setEntries({ ...entries, data })\n            }, 600)\n          }),\n        //add\n          onRowAdd: (newData:DataProps) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve()\n              const data = [...entries.data]\n              data[data.length] = newData\n              axios\n                .post(\n                  `/activities`,\n                  { name: newData.name, when: newData.when },\n                  { headers }\n                )\n                .then((res) => console.log(res.data))\n              setEntries({ ...entries, data })\n            }, 600)\n          }),\n      }}\n      />\n      </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}